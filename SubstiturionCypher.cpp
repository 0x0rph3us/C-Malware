#include <iostream>
#include <string>

using namespace std;

int main() {

	string alphabet{ "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ" };
	string key{ "ZYXWVUTSRQPONMLKJIHGFEDCBAzyxwutrsqponmljihgfedcba" };
    string secret_message{};

	cout << "Enter your secret message to encrypt:";
	getline(cin, secret_message);

	string encrypted_message{};

	cout << "\nEncrypting message:" << endl;

	for (char c : secret_message)
	{
		size_t position = alphabet.find(c);
		if (position != string::npos)
		{
			char new_char{ key.at(position) };
			encrypted_message += new_char;

		}
		else
		{
			encrypted_message += c;
		}
	}
	cout << "\nEncryped message " << encrypted_message << endl;

	char selection{};
	cout << "\nDo you wish to decrypt the message? (Y, N)" << endl;
	cin >> selection;
    
	if (selection == 'Y' || selection == 'y')
	{
		string decrypted_message{};

		cout << "\nDecrypting message:" << endl;

		for (char c : encrypted_message)
		{
			size_t position = key.find(c);
			if (position != string::npos)
			{
				char new_char{ alphabet.at(position) };
				decrypted_message += new_char;
			}
			else
			{
				decrypted_message += c;
			}
		}
		cout << "\nDecryped message:" << endl;
		cout << decrypted_message << endl;

	}while (selection != 'N' && selection != 'n')
	
	return 0;


}